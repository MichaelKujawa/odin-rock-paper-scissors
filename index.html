<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        const options = ["rock", "paper", "scissors"];

        function getComputerChoice(){
            let choice = options[(Math.floor(Math.random() * options.length))];
            return choice
        }

        function getHumanChoice(){
            let validInput = false
            while (validInput == false){
                let choice = prompt("rock, paper, scissors")
                if (choice === null){
                    continue;
                }
                const choiceInLower = choice.toLowerCase();
                if (options.includes(choiceInLower)){
                    validInput = true;
                    return choiceInLower;
                }
            }
        }

        let humanSelection = getHumanChoice();
        let computerSelection = getComputerChoice();


        function playGame(){
        
            humanScore = 0;
            computerScore = 0;

            function playRound(humanChoice, computerChoice) {
                if (humanChoice === "rock" && computerChoice === "scissors" || humanChoice === "paper" && computerChoice === "rock" || humanChoice === "scissors" && computerChoice === "paper"){
                            console.log(`You win! ${humanChoice} beats ${computerChoice}.`);
                            humanScore ++
                    }
                else if (humanChoice === computerChoice){
                            console.log("It's a tie!");
                    }
                else{
                            console.log(`You lose! ${computerChoice} beats ${humanChoice}.`);
                            computerScore ++
                    }
            }
            
            for (i=0; i<5; i++){
                computerSelection = getComputerChoice();
                humanSelection = getHumanChoice();
                playRound(humanSelection,computerSelection);
            }

            function checkWinner(){
                if (humanScore > computerScore){
                    console.log("Congrats! You won!")
                }
                else if (computerScore > humanScore){
                    console.log("You lose!")
                }
                else{
                    console.log("It's a tie! Reload the page and try again.")
                }
            }
            checkWinner();
        }

        playGame();
    </script>
</body>
</html>